{% extends 'base.html' %}

{% block content %}
<div class="card">
    <h2>Add Maintenance Record</h2>
    <form method="post">
        {% csrf_token %}
        <div>
            <label>Vehicle Type</label>
            <select name="vehicle">
                <option value="car">Car</option>
                <option value="bike">Bike</option>
            </select>
        </div>

        <div>
            <label>Maintenance Type</label>
            <select name="maintenance">
                <option value="oil">Oil Change</option>
                <option value="brake">Brake Service</option>
                <option value="air_filter">Air Filter Replacement</option>
            </select>
        </div>

        <div>
            <label>Odometer Reading (km)</label>
            <input type="number" name="odometer" placeholder="e.g., 15000" required>
        </div>

        <div>
            <label>Date</label>
            <input type="date" name="date" required>
        </div>

        <button type="submit">Add Record</button>
    </form>
</div>

<div class="card">
    <h2>Maintenance History</h2>
    {% if records %}
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Vehicle</th>
                <th>Service</th>
                <th>Odometer</th>
                <th>Next Service Due</th>
            </tr>
        </thead>
        <tbody>
            {% for r in records %}
            <tr>
                <td>{{ r.date }}</td>
                <td style="text-transform: capitalize;">{{ r.vehicle_type }}</td>
                <td>{{ r.get_maintenance_type_display }}</td>
                <td>{{ r.odometer }} km</td>
                <td style="color: var(--primary); font-weight: 600;">{{ r.next_service_odometer }} km</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="color: var(--text-muted); text-align: center; padding: 1rem;">No maintenance records found.</p>
    {% endif %}
</div>
{% endblock %}